[
  {
    "type": "fire",
    "name": "fire-flame",
    "flags": [
      "placeable-off-grid",
      "not-on-map"
    ],
    "hidden": true,
    "damage_per_tick": {
      "amount": "13 / 60",
      "type": "fire"
    },
    "maximum_damage_multiplier": 6,
    "damage_multiplier_increase_per_added_fuel": 1,
    "damage_multiplier_decrease_per_tick": 0.005,
    "spawn_entity": "fire-flame-on-tree",
    "spread_delay": 300,
    "spread_delay_deviation": 180,
    "maximum_spread_count": 100,
    "emissions_per_second": {
      "pollution": 0.005
    },
    "initial_lifetime": 120,
    "lifetime_increase_by": 150,
    "lifetime_increase_cooldown": 4,
    "maximum_lifetime": 1800,
    "delay_between_initial_flames": 10
  },
  {
    "type": "fire",
    "name": "fire-flame-on-tree",
    "localised_name": [
      "entity-name.fire-flame"
    ],
    "flags": [
      "placeable-off-grid",
      "not-on-map"
    ],
    "hidden": true,
    "damage_per_tick": {
      "amount": "35 / 60",
      "type": "fire"
    },
    "spawn_entity": "fire-flame-on-tree",
    "maximum_spread_count": 100,
    "spread_delay": 300,
    "spread_delay_deviation": 180,
    "flame_alpha": 0.44,
    "flame_alpha_deviation": 0.05,
    "tree_dying_factor": 0.8,
    "emissions_per_second": {
      "pollution": 0.005
    },
    "fade_in_duration": 120,
    "fade_out_duration": 100,
    "smoke_fade_in_duration": 100,
    "smoke_fade_out_duration": 130,
    "delay_between_initial_flames": 20,
    "small_tree_fire_pictures": "fireutil.create_small_tree_flame_animations()",
    "pictures": "fireutil.create_fire_pictures({})",
    "smoke_source_pictures": "fireutil.create_fire_smoke_source_pictures(0.6, util.premul_color{1,1,1, 0.75})",
    "smoke": [
      {
        "name": "fire-smoke-without-glow",
        "deviation": [
          0.5,
          0.5
        ],
        "frequency": 0.125,
        "position": [
          0.0,
          -0.8
        ],
        "starting_vertical_speed": 0.008,
        "starting_vertical_speed_deviation": 0.05,
        "starting_frame_deviation": 60,
        "height": -0.5
      }
    ],
    "light": "util.table.deepcopy(fireutil.default_fire_light)",
    "working_sound": {
      "sound": {
        "category": "weapon",
        "filename": "__base__/sound/fire-1.ogg"
      },
      "max_sounds_per_prototype": 2
    }
  },
  {
    "type": "fluid-turret",
    "name": "flamethrower-turret",
    "icon": "__base__/graphics/icons/flamethrower-turret.png",
    "flags": [
      "placeable-player",
      "player-creation"
    ],
    "minable": {
      "mining_time": 0.5,
      "result": "flamethrower-turret"
    },
    "fast_replaceable_group": "flamethrower-turret",
    "max_health": 1400,
    "corpse": "flamethrower-turret-remnants",
    "collision_box": [
      [
        -0.7,
        -1.2
      ],
      [
        0.7,
        1.2
      ]
    ],
    "selection_box": [
      [
        -1,
        -1.5
      ],
      [
        1,
        1.5
      ]
    ],
    "rotation_speed": 0.015,
    "preparing_speed": 0.08,
    "open_sound": null,
    "close_sound": null,
    "preparing_sound": null,
    "folding_sound": null,
    "folding_speed": 0.08,
    "attacking_speed": 1,
    "ending_attack_speed": 0.2,
    "dying_explosion": "medium-explosion",
    "turret_base_has_direction": true,
    "resistances": [
      {
        "type": "fire",
        "percent": 100
      }
    ],
    "fluid_box": {
      "production_type": "none",
      "secondary_draw_order": 0,
      "render_layer": "lower-object",
      "pipe_covers": "pipecoverspictures()",
      "volume": 100,
      "pipe_connections": [
        {
          "direction": null,
          "position": [
            -0.5,
            1.0
          ]
        },
        {
          "direction": null,
          "position": [
            0.5,
            1.0
          ]
        }
      ]
    },
    "fluid_buffer_size": 100,
    "fluid_buffer_input_flow": "250 / 60 / 5",
    "activation_buffer_ratio": 0.25,
    "circuit_connector": "circuit_connector_definitions[\"flamethrower-turret\"]",
    "circuit_wire_max_distance": "default_circuit_wire_max_distance",
    "folded_animation": "fireutil.flamethrower_turret_extension({frame_count = 1, line_length = 1})",
    "preparing_animation": "fireutil.flamethrower_turret_extension({})",
    "prepared_animation": "fireutil.flamethrower_prepared_animation()",
    "attacking_animation": "fireutil.flamethrower_prepared_animation({attacking = true})",
    "ending_attack_animation": "fireutil.flamethrower_prepared_animation({attacking = true})",
    "folding_animation": "fireutil.flamethrower_turret_extension({ run_mode = \"backward\" })",
    "not_enough_fuel_indicator_picture": "indicator_pictures",
    "not_enough_fuel_indicator_light": {
      "intensity": 0.2,
      "size": 1.5,
      "color": [
        1,
        0,
        0
      ]
    },
    "enough_fuel_indicator_picture": "fireutil.foreach(util.table.deepcopy(indicator_pictures), function (tab) tab.x = tab.width end)",
    "enough_fuel_indicator_light": {
      "intensity": 0.2,
      "size": 1.5,
      "color": [
        0,
        1,
        0
      ]
    },
    "out_of_ammo_alert_icon": {
      "filename": "__core__/graphics/icons/alerts/fuel-icon-red.png",
      "priority": "extra-high-no-scale",
      "width": 64,
      "height": 64,
      "flags": [
        "icon"
      ]
    },
    "gun_animation_render_layer": "object",
    "gun_animation_secondary_draw_order": 1,
    "graphics_set": {
      "base_visualisation": {
        "render_layer": "object",
        "secondary_draw_order": 0,
        "animation": {
          "north": {
            "layers": [
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-north.png",
                "line_length": 1,
                "width": 158,
                "height": 196,
                "shift": "util.by_pixel(-1, 13)",
                "scale": 0.5
              },
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-north-mask.png",
                "flags": [
                  "mask"
                ],
                "line_length": 1,
                "width": 74,
                "height": 70,
                "shift": "util.by_pixel(-1, 33)",
                "apply_runtime_tint": true,
                "scale": 0.5
              },
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-north-shadow.png",
                "draw_as_shadow": true,
                "line_length": 1,
                "width": 134,
                "height": 152,
                "shift": "util.by_pixel(3, 15)",
                "scale": 0.5
              }
            ]
          },
          "east": {
            "layers": [
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-east.png",
                "line_length": 1,
                "width": 216,
                "height": 169,
                "shift": "util.by_pixel(-6, -2.75)",
                "scale": 0.5
              },
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-east-mask.png",
                "flags": [
                  "mask"
                ],
                "apply_runtime_tint": true,
                "line_length": 1,
                "width": 66,
                "height": 82,
                "shift": "util.by_pixel(-33, 1)",
                "scale": 0.5
              },
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-east-shadow.png",
                "draw_as_shadow": true,
                "line_length": 1,
                "width": 144,
                "height": 86,
                "shift": "util.by_pixel(14, 9)",
                "scale": 0.5
              }
            ]
          },
          "south": {
            "layers": [
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-south.png",
                "line_length": 1,
                "width": 128,
                "height": 166,
                "shift": "util.by_pixel(0, -8)",
                "scale": 0.5
              },
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-south-mask.png",
                "flags": [
                  "mask"
                ],
                "apply_runtime_tint": true,
                "line_length": 1,
                "width": 72,
                "height": 72,
                "shift": "util.by_pixel(0, -31)",
                "scale": 0.5
              },
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-south-shadow.png",
                "draw_as_shadow": true,
                "line_length": 1,
                "width": 134,
                "height": 98,
                "shift": "util.by_pixel(3, 9)",
                "scale": 0.5
              }
            ]
          },
          "west": {
            "layers": [
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-west.png",
                "line_length": 1,
                "width": 208,
                "height": 160,
                "shift": "util.by_pixel(7, -5)",
                "scale": 0.5
              },
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-west-mask.png",
                "flags": [
                  "mask"
                ],
                "apply_runtime_tint": true,
                "line_length": 1,
                "width": 64,
                "height": 74,
                "shift": "util.by_pixel(32, -1)",
                "scale": 0.5
              },
              {
                "filename": "__base__/graphics/entity/flamethrower-turret/flamethrower-turret-base-west-shadow.png",
                "draw_as_shadow": true,
                "line_length": 1,
                "width": 206,
                "height": 88,
                "shift": "util.by_pixel(15, 4)",
                "scale": 0.5
              }
            ]
          }
        }
      }
    },
    "muzzle_animation": "util.draw_as_glow\n    {\n      filename = \"__base__/graphics/entity/flamethrower-turret/flamethrower-turret-muzzle-fire.png\",\n      line_length = 8,\n      width = 16,\n      height = 30,\n      frame_count = 32,\n      blend_mode = \"additive\",\n      scale = 0.45,\n      shift = {0.015625 * 0.5, -0.546875 * 0.5 + 0.05}\n    }",
    "muzzle_light": {
      "size": 1.5,
      "intensity": 0.2,
      "color": [
        1,
        0.5,
        0
      ]
    },
    "folded_muzzle_animation_shift": "fireutil.flamethrower_turret_preparing_muzzle_animation{ frame_count = 1,  orientation_count = 4, progress = 0, layers = {[0] = \"object\"} }",
    "preparing_muzzle_animation_shift": "fireutil.flamethrower_turret_preparing_muzzle_animation{ frame_count = 15, orientation_count = 4, layers = {[0] = \"object\"} }",
    "prepared_muzzle_animation_shift": "fireutil.flamethrower_turret_preparing_muzzle_animation{ frame_count = 1, orientation_count =  64, progress = 1}",
    "attacking_muzzle_animation_shift": "fireutil.flamethrower_turret_preparing_muzzle_animation{ frame_count = 1,  orientation_count = 64, progress = 1}",
    "ending_attack_muzzle_animation_shift": "fireutil.flamethrower_turret_preparing_muzzle_animation{ frame_count = 1,  orientation_count = 64, progress = 1}",
    "folding_muzzle_animation_shift": "fireutil.flamethrower_turret_preparing_muzzle_animation{ frame_count = 15, orientation_count = 4, run_mode = \"backward\", layers = {[0] = \"object\"}}",
    "prepare_range": 35,
    "shoot_in_prepare_state": false,
    "attack_parameters": {
      "type": "stream",
      "cooldown": 4,
      "range": 30,
      "min_range": 6,
      "turn_range": 0.3333333333333333,
      "fire_penalty": 15,
      "fluids": [
        {
          "type": "crude-oil"
        },
        {
          "type": "heavy-oil",
          "damage_modifier": 1.05
        },
        {
          "type": "light-oil",
          "damage_modifier": 1.1
        }
      ],
      "fluid_consumption": 0.2,
      "gun_center_shift": {
        "north": "math3d.vector2.add(fireutil.gun_center_base, fireutil.turret_gun_shift.north)",
        "east": "math3d.vector2.add(fireutil.gun_center_base, fireutil.turret_gun_shift.east)",
        "south": "math3d.vector2.add(fireutil.gun_center_base, fireutil.turret_gun_shift.south)",
        "west": "math3d.vector2.add(fireutil.gun_center_base, fireutil.turret_gun_shift.west)"
      },
      "gun_barrel_length": 0.4,
      "ammo_category": "flamethrower",
      "ammo_type": {
        "action": {
          "type": "direct",
          "action_delivery": {
            "type": "stream",
            "stream": "flamethrower-fire-stream",
            "source_offset": [
              0.15,
              -0.5
            ]
          }
        }
      },
      "cyclic_sound": {
        "begin_sound": "sound_variations(\"__base__/sound/fight/flamethrower-turret-start\", 3, 0.5)",
        "middle_sound": "sound_variations(\"__base__/sound/fight/flamethrower-turret-mid\", 3, 0.5)",
        "end_sound": "sound_variations(\"__base__/sound/fight/flamethrower-turret-end\", 3, 0.5)"
      }
    },
    "call_for_help_radius": 40
  },
  {
    "type": "sticker",
    "name": "fire-sticker",
    "flags": [
      "not-on-map"
    ],
    "hidden": true,
    "animation": {
      "filename": "__base__/graphics/entity/fire-flame/fire-flame-01.png",
      "line_length": 10,
      "width": 84,
      "height": 130,
      "frame_count": 90,
      "blend_mode": "normal",
      "animation_speed": 1,
      "scale": 0.4,
      "tint": {
        "r": 0.5,
        "g": 0.5,
        "b": 0.5,
        "a": 0.18
      },
      "shift": "math3d.vector2.mul({-0.078125, -1.8125}, 0.1)",
      "draw_as_glow": true
    },
    "duration_in_ticks": "30 * 60",
    "damage_interval": 10,
    "target_movement_modifier": 0.8,
    "damage_per_tick": {
      "amount": "10 * 100 / 60",
      "type": "fire"
    },
    "spread_fire_entity": "fire-flame-on-tree",
    "fire_spread_cooldown": 30,
    "fire_spread_radius": 0.75
  },
  {
    "type": "stream",
    "name": "flamethrower-fire-stream",
    "flags": [
      "not-on-map"
    ],
    "hidden": true,
    "smoke_sources": [
      {
        "name": "soft-fire-smoke",
        "frequency": 0.05,
        "position": [
          0.0,
          0
        ]
      },
      "starting_frame_deviation = 60"
    ]
  },
  [
    {
      "type": "area",
      "radius": 2.5,
      "action_delivery": {
        "type": "instant",
        "target_effects": [
          {
            "type": "create-sticker",
            "sticker": "fire-sticker",
            "show_in_tooltip": true
          },
          {
            "type": "damage",
            "damage": {
              "amount": 3,
              "type": "fire"
            },
            "apply_damage_to_trees": false
          }
        ]
      }
    },
    {
      "type": "direct",
      "action_delivery": {
        "type": "instant",
        "target_effects": [
          {
            "type": "create-fire",
            "entity_name": "fire-flame",
            "show_in_tooltip": true
          }
        ]
      }
    }
  ],
  {
    "type": "stream",
    "name": "handheld-flamethrower-fire-stream",
    "flags": [
      "not-on-map"
    ],
    "hidden": true,
    "smoke_sources": [
      {
        "name": "soft-fire-smoke",
        "frequency": 0.05,
        "position": [
          0.0,
          0
        ]
      },
      "starting_frame_deviation = 60"
    ]
  },
  {
    "intensity": 1,
    "size": 3.2
  },
  {
    "intensity": 0.8,
    "size": 3.2
  },
  [
    {
      "type": "area",
      "radius": 2.5,
      "action_delivery": {
        "type": "instant",
        "target_effects": [
          {
            "type": "create-sticker",
            "sticker": "fire-sticker",
            "show_in_tooltip": true
          },
          {
            "type": "damage",
            "damage": {
              "amount": 2,
              "type": "fire"
            },
            "apply_damage_to_trees": false
          }
        ]
      }
    },
    {
      "type": "direct",
      "action_delivery": {
        "type": "instant",
        "target_effects": [
          {
            "type": "create-fire",
            "entity_name": "fire-flame",
            "show_in_tooltip": true,
            "initial_ground_flame_count": 2
          }
        ]
      }
    }
  ]
]